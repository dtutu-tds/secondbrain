# üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ ‚Äî –¢—Ä–µ–Ω–¥—ã –∏ –ü–∞—Ç—Ç–µ—Ä–Ω—ã

> –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–≤–æ–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö.

---

## üå°Ô∏è –¢—Ä–µ–Ω–¥—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ —ç–Ω–µ—Ä–≥–∏–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 14 –¥–Ω–µ–π)

```dataview
TABLE WITHOUT ID
  file.link as "–î–µ–Ω—å",
  mood as "üòä",
  energy as "‚ö°",
  burnout_level as "üî•",
  choice(
    energy >= 7, "üü¢",
    choice(energy >= 4, "üü°", "üî¥")
  ) as "–£—Ä–æ–≤–µ–Ω—å"
FROM "07_–î–Ω–µ–≤–Ω–∏–∫/–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ"
WHERE file.day >= date(today) - dur(14 days) AND file.day <= date(today)
SORT file.day DESC
```

### –°—Ä–µ–¥–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

```dataviewjs
const pages = dv.pages('"07_–î–Ω–µ–≤–Ω–∏–∫/–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ"')
    .where(p => p.file.day >= dv.date("today").minus({days: 14}));

let totalMood = 0, totalEnergy = 0, totalBurnout = 0, count = 0;

for (const p of pages) {
    if (p.mood && typeof p.mood === 'number') {
        totalMood += p.mood;
        count++;
    }
    if (p.energy && typeof p.energy === 'number') totalEnergy += p.energy;
    if (p.burnout_level && typeof p.burnout_level === 'number') totalBurnout += p.burnout_level;
}

if (count > 0) {
    dv.paragraph(`**–°—Ä–µ–¥–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ:** ${(totalMood/count).toFixed(1)}/10`);
    dv.paragraph(`**–°—Ä–µ–¥–Ω—è—è —ç–Ω–µ—Ä–≥–∏—è:** ${(totalEnergy/count).toFixed(1)}/10`);
    dv.paragraph(`**–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –≤—ã–≥–æ—Ä–∞–Ω–∏—è:** ${(totalBurnout/count).toFixed(1)}/10`);
} else {
    dv.paragraph("‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞");
}
```

---

## üìä –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á A1

```dataviewjs
const pages = dv.pages('"07_–î–Ω–µ–≤–Ω–∏–∫/–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ"')
    .where(p => p.file.day >= dv.date("today").minus({days: 30}));

let completed = 0;
let total = 0;

for (const p of pages) {
    total++;
    const content = await dv.io.load(p.file.path);
    if (content.includes("- [x] **(A1)**") || content.includes("- [x] (A1)")) {
        completed++;
    }
}

const percentage = total > 0 ? ((completed/total) * 100).toFixed(0) : 0;

dv.paragraph(`### –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: **${percentage}%**`);
dv.paragraph(`–í—ã–ø–æ–ª–Ω–µ–Ω–æ ${completed} –∏–∑ ${total} –¥–Ω–µ–π`);

if (percentage >= 80) {
    dv.paragraph("üèÜ –û—Ç–ª–∏—á–Ω–æ! –í—ã—Å–æ–∫–∞—è —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º.");
} else if (percentage >= 60) {
    dv.paragraph("üëç –•–æ—Ä–æ—à–æ, –Ω–æ –µ—Å—Ç—å –∫—É–¥–∞ —Ä–∞—Å—Ç–∏.");
} else {
    dv.paragraph("‚ö†Ô∏è –°—Ç–æ–∏—Ç –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–∏—Å—Ç–µ–º—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.");
}
```

---

## üß¨ –ë–∏–æ—Ö–∞–∫–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

```dataview
TABLE WITHOUT ID
  name as "–í–µ—â–µ—Å—Ç–≤–æ",
  effect_score as "–≠—Ñ—Ñ–µ–∫—Ç",
  status as "–°—Ç–∞—Ç—É—Å",
  main_effects as "–û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã"
FROM "09_–ë–∏–æ—Ö–∞–∫–∏–Ω–≥/–í–µ—â–µ—Å—Ç–≤–∞"
WHERE effect_score != null
SORT effect_score DESC
LIMIT 10
```

### –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è: –ë–∏–æ-–≤–µ—â–µ—Å—Ç–≤–∞ ‚Üî –≠–Ω–µ—Ä–≥–∏—è

```dataviewjs
const pages = dv.pages('"07_–î–Ω–µ–≤–Ω–∏–∫/–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ"')
    .where(p => p.file.day >= dv.date("today").minus({days: 30}));

let withBio = { count: 0, totalEnergy: 0 };
let withoutBio = { count: 0, totalEnergy: 0 };

for (const p of pages) {
    if (p.bio_substances && p.bio_substances.length > 0) {
        withBio.count++;
        if (p.energy) withBio.totalEnergy += p.energy;
    } else {
        withoutBio.count++;
        if (p.energy) withoutBio.totalEnergy += p.energy;
    }
}

if (withBio.count > 0 && withoutBio.count > 0) {
    const avgWith = (withBio.totalEnergy / withBio.count).toFixed(1);
    const avgWithout = (withoutBio.totalEnergy / withoutBio.count).toFixed(1);
    dv.paragraph(`**–° –±–∏–æ—Ö–∞–∫–∏–Ω–≥–æ–º:** ${avgWith}/10 —ç–Ω–µ—Ä–≥–∏–∏ (${withBio.count} –¥–Ω–µ–π)`);
    dv.paragraph(`**–ë–µ–∑ –±–∏–æ—Ö–∞–∫–∏–Ω–≥–∞:** ${avgWithout}/10 —ç–Ω–µ—Ä–≥–∏–∏ (${withoutBio.count} –¥–Ω–µ–π)`);
} else {
    dv.paragraph("‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è");
}
```

---

## üíº –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏

```dataviewjs
const pages = dv.pages('"07_–î–Ω–µ–≤–Ω–∏–∫/–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ"')
    .where(p => p.file.day >= dv.date("today").minus({days: 60}));

const days = {
    "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": { energy: 0, count: 0 },
    "–í—Ç–æ—Ä–Ω–∏–∫": { energy: 0, count: 0 },
    "–°—Ä–µ–¥–∞": { energy: 0, count: 0 },
    "–ß–µ—Ç–≤–µ—Ä–≥": { energy: 0, count: 0 },
    "–ü—è—Ç–Ω–∏—Ü–∞": { energy: 0, count: 0 },
    "–°—É–±–±–æ—Ç–∞": { energy: 0, count: 0 },
    "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ": { energy: 0, count: 0 }
};

const dayNames = ["–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ", "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–í—Ç–æ—Ä–Ω–∏–∫", "–°—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä–≥", "–ü—è—Ç–Ω–∏—Ü–∞", "–°—É–±–±–æ—Ç–∞"];

for (const p of pages) {
    if (p.file.day && p.energy) {
        const dayOfWeek = p.file.day.toJSDate().getDay();
        const dayName = dayNames[dayOfWeek];
        days[dayName].energy += p.energy;
        days[dayName].count++;
    }
}

const results = [];
for (const [day, data] of Object.entries(days)) {
    if (data.count > 0) {
        results.push({
            day: day,
            avg: (data.energy / data.count).toFixed(1),
            count: data.count
        });
    }
}

dv.table(["–î–µ–Ω—å", "–°—Ä–µ–¥–Ω—è—è —ç–Ω–µ—Ä–≥–∏—è", "–ó–∞–ø–∏—Å–µ–π"],
    results.map(r => [r.day, r.avg, r.count]));
```

---

## üéØ –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –æ–±–ª–∞—Å—Ç—è–º –∂–∏–∑–Ω–∏

```dataview
TABLE WITHOUT ID
  area as "–û–±–ª–∞—Å—Ç—å",
  length(rows) as "–¶–µ–ª–µ–π",
  length(filter(rows, (r) => r.status = "‚úÖ completed")) as "–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ"
FROM "01_–•–∞–±"
WHERE type = "goal"
GROUP BY area
```

---

## üìö –û–±—É—á–µ–Ω–∏–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ

```dataview
TABLE WITHOUT ID
  title as "–ö–Ω–∏–≥–∞",
  status as "–°—Ç–∞—Ç—É—Å",
  rating as "–†–µ–π—Ç–∏–Ω–≥"
FROM ""
WHERE type = "book"
SORT started DESC
LIMIT 10
```

---

## üîÑ –ü—Ä–∏–≤—ã—á–∫–∏

```dataview
TABLE WITHOUT ID
  file.link as "–ü—Ä–∏–≤—ã—á–∫–∞",
  streak as "–¢–µ–∫—É—â–∞—è —Å–µ—Ä–∏—è",
  best_streak as "–õ—É—á—à–∞—è —Å–µ—Ä–∏—è",
  status as "–°—Ç–∞—Ç—É—Å"
FROM ""
WHERE type = "habit"
SORT streak DESC
```

---

## üí° –ò–Ω—Å–∞–π—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

```dataviewjs
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å–∞–π—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
const pages = dv.pages('"07_–î–Ω–µ–≤–Ω–∏–∫/–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ"')
    .where(p => p.file.day >= dv.date("today").minus({days: 14}));

let insights = [];

// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç—Ä–µ–Ω–¥ —ç–Ω–µ—Ä–≥–∏–∏
let energies = [];
for (const p of pages) {
    if (p.energy) energies.push(p.energy);
}

if (energies.length >= 7) {
    const firstHalf = energies.slice(0, Math.floor(energies.length/2));
    const secondHalf = energies.slice(Math.floor(energies.length/2));

    const avgFirst = firstHalf.reduce((a,b) => a+b, 0) / firstHalf.length;
    const avgSecond = secondHalf.reduce((a,b) => a+b, 0) / secondHalf.length;

    if (avgSecond > avgFirst + 1) {
        insights.push("üìà **–≠–Ω–µ—Ä–≥–∏—è —Ä–∞—Å—Ç—ë—Ç!** –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Ç–µ–∫—É—â–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏.");
    } else if (avgSecond < avgFirst - 1) {
        insights.push("üìâ **–≠–Ω–µ—Ä–≥–∏—è —Å–Ω–∏–∂–∞–µ—Ç—Å—è.** –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∂–∏–º —Å–Ω–∞ –∏ –ø–∏—Ç–∞–Ω–∏—è.");
    }
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã–≥–æ—Ä–∞–Ω–∏–µ
let burnouts = [];
for (const p of pages) {
    if (p.burnout_level) burnouts.push(p.burnout_level);
}

if (burnouts.length > 0) {
    const avgBurnout = burnouts.reduce((a,b) => a+b, 0) / burnouts.length;
    if (avgBurnout > 7) {
        insights.push("üî• **–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –≤—ã–≥–æ—Ä–∞–Ω–∏—è!** –°—Ä–æ—á–Ω–æ –Ω—É–∂–µ–Ω –æ—Ç–¥—ã—Ö.");
    }
}

if (insights.length > 0) {
    dv.list(insights);
} else {
    dv.paragraph("‚úÖ –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ –Ω–æ—Ä–º–µ. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.");
}
```

---

*–û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏*
